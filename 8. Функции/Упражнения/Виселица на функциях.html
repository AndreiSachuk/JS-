<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Игра "Виселица"</title>
</head>
<body>
    <h1>Игра "Виселица"</h1>
    <p>Зайди в консоль (F12).</p>
        <script>
        var words = [
            "программа",
            "макака",
            "прекрасный",
            "оладушек",
            "мыло",
            "перекресток"
            ];//массив исходных слов

        var pickWord = function () {
            return words[Math.floor(Math.random() * words.length)];
        };

        var setupAnswerArray = function (word) {
            var answerArray= [];
            for (var i = 0; i < word.length; i++) {  //заполняем его подчеркиваниями
                answerArray[i] = "_"; 
            }
            return answerArray;// Возвращает итоговый массив для заданного слова word
        }

        var showPlayerProgress = function (answerArray) {
            alert(answerArray.join(" "));// С помощью alert отображает текущее состояние игры
        };

        var getGuess = function () {
            return guess = prompt("Угадайте букву или нажмите Отмена для выхода из игры.");// Запрашивает ответ игрока с помощью prompt
        };

        var updateGameState = function (guess, word, answerArray) {
            var remainingLetters = 0;
            for (var j = 0; j < word.length; j++) {
                        if (word[j] === guess) {
                            answerArray[j] = guess;
                            remainingLetters++;}}
             return remainingLetters;
        };

        var showAnswerAndCongratulatePlayer = function (answerArray) {
            alert(answerArray.join(" "));
        };
            
        // word: загаданное слово
        var word = pickWord();
        // answerArray: итоговый массив
        var answerArray = setupAnswerArray(word);
        // remainingLetters: сколько букв осталось угадать
        var remainingLetters = word.length;
        while (remainingLetters > 0) {
        showPlayerProgress(answerArray);
        // guess: ответ игрока
        var guess = getGuess();
        if (guess === null) {
        break;
        } else if (guess.length !== 1) {
        alert("Пожалуйста, введите одиночную букву.");
        } else {
        // correctGuesses: количество открытых букв
        var correctGuesses = updateGameState(guess, word, answerArray);
        remainingLetters -= correctGuesses;
        }
        }
        showAnswerAndCongratulatePlayer(answerArray);

        </script>
</body>
</html>